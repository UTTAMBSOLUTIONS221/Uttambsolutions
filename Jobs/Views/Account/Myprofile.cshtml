@model DBL.Models.SystemUserProfileData
@{
    Layout = null;
    var profileImageUrl = Model.UserProfileImageUrl;
    var defaultImageUrl = Url.Content("~/images/user.png");
    var imageUrl = !string.IsNullOrEmpty(profileImageUrl) ? Url.Content(profileImageUrl) : defaultImageUrl;
}

@using System.Security.Claims
@using DBL.Models
@using Microsoft.Extensions.Configuration
@{
    bool authenticated = false;
    UsermodelResponce currentUserData = null;
    if (User.Identities.Any(u => u.IsAuthenticated))
    {
        authenticated = true;
        currentUserData = Util.GetCurrentUserData(User.Identities);
        IConfiguration config = (IConfiguration)Context.RequestServices.GetService(typeof(IConfiguration));
    }
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>

    <meta name="description" content="JobCenter offers the latest job listings, freelancing job biddings, and career opportunities. Stay informed and find your next job with our comprehensive job board." />
    <meta name="keywords" content="JobCenter, job listings, freelancing, job biddings, career opportunities, job board" />
    <meta name="author" content="JobCenter" />
    <meta name="google-adsense-account" content="ca-pub-2850934153859537">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="@ViewData["Title"] - JobCenter" />
    <meta property="og:description" content="JobCenter provides the latest job listings, freelancing job biddings, and career opportunities. Explore our platform to find your next job." />
    <meta property="og:image" content="https://jobcenter.uttambsolutions.com/images/jobcenterlogo.png" />
    <meta property="og:url" content="https://jobcenter.uttambsolutions.com" />
    <meta property="og:type" content="website" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="@ViewData["Title"] - JobCenter" />
    <meta name="twitter:description" content="JobCenter offers job listings, freelancing job biddings, and career opportunities. Stay connected and find your next job with our platform." />
    <meta name="twitter:image" content="https://jobcenter.uttambsolutions.com/images/jobcenterlogo.png" />

    <!-- Schema.org Markup -->
    <meta itemprop="name" content="@ViewData["Title"] - JobCenter" />
    <meta itemprop="description" content="JobCenter provides the latest job listings, freelancing job biddings, and career opportunities." />
    <meta itemprop="image" content="https://jobcenter.uttambsolutions.com/images/jobcenterlogo.png" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/lib/plugins/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <link href="~/lib/plugins/select2/css/select2.min.css" rel="stylesheet" />
    <link href="~/lib/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css" rel="stylesheet" />
    <link href="~/lib/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css" rel="stylesheet" />
    <link href="~/lib/plugins/bs-stepper/css/bs-stepper.min.css" rel="stylesheet" />
    <link href="~/lib/plugins/datatables-bs4/css/datatables.bootstrap4.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/lib/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link href="~/lib/plugins/datatables-buttons/css/buttons.bootstrap4.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/lib/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link href="~/dist/css/adminlte.min.css" rel="stylesheet" />
    <link href="~/css/site.css" rel="stylesheet" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2850934153859537"
            crossorigin="anonymous"></script>
            <style type="text/css">
        textarea {
            resize: none;
        }
        /* Hide spinner arrows for number inputs */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type=number] {
            -moz-appearance: textfield; /* Firefox */
        }

        .no-wrap-buttons {
            display: flex;
            flex-wrap: nowrap;
            gap: 5px; /* Adjust the gap as needed */
        }

            .no-wrap-buttons a {
                white-space: nowrap;
            }

    </style>
</head>
<body class="hold-transition layout-top-nav layout-navbar-fixed">
    <div class="wrapper">
        <nav class="main-header navbar navbar-expand-md navbar-light navbar-white bg-custom">
            <div class="container-fluid">
                <a asp-controller="Home" asp-action="Index" class="navbar-brand">
                    <img src="~/images/uttambsolutionsjoblogo.png" alt="Uttambsolutions Logo" class="brand-image elevation-3">
                    <span class="brand-text font-weight-light text-white font-weight-bold fw-bold text-uppercase">JOB CENTER</span>
                </a>

                <!-- Right navbar links for large screens -->
                <ul class="nav-item order-1 order-md-3 navbar-nav navbar-no-expand ml-auto">
                    <li class="nav-link dropdown">
                        <a class="font-weight-bold text-uppercase text-xs text-white dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-user-circle text-white font-weight-bold fa-1x img-circle rounded-circle"></i>&nbsp; @currentUserData.Usermodel.Fullname</a>
                        <div class="dropdown-menu bg-custom">
                            <div class="row" hidden>
                                <div class="col-sm-12">
                                    <input id="systemLoggedinedUserid" value="@currentUserData.Usermodel.Userid">
                                </div>
                            </div>
                            <a asp-area="" asp-controller="Account" asp-action="Logout" class="dropdown-item text-white text-sm font-weight-bold"> Log out</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="content-wrapper">
            <section class="content">
                <div class="container-fluid">
                    <div class="row mb-4">
                        <div class="col-lg-7 col-md-12">
                            <div class="card card-outline card-info">
                                <div class="card-header">
                                    <h5 class="font-weight-bold">User Profile</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row mb-3">
                                        <div class="col-sm-2">
                                            <img src="@imageUrl" class="img-fluid rounded-circle" alt="@Model.Fullname" />
                                        </div>
                                        <div class="col-sm-5">
                                            <!-- User Details Table -->
                                            <h6 class="font-weight-bold">User Details</h6>
                                            <table class="table table-borderless table-sm">
                                                <tbody>
                                                    <tr>
                                                        <td><span class="font-weight-bold">Name: </span>@Model.Fullname</td>
                                                    </tr>
                                                    <tr>
                                                        <td><span class="font-weight-bold">Email: </span>@Model.Emailaddress</td>
                                                    </tr>
                                                    <tr>
                                                        <td><span class="font-weight-bold">Joined: </span>@Model.Datecreated.ToString("MMMM dd, yyyy")</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="col-sm-5">
                                            <!-- Organization or Company Details Table -->
                                            @if(Model.Systemorganizations != null && Model.Systemorganizations.Any())
                                            {
                                                <h6 class="font-weight-bold">Organization Details</h6>
                                                <table class="table table-borderless table-sm">
                                                    <tbody>
                                                        <tr>
                                                            <td><span class="font-weight-bold">Name: </span>@Model.Systemorganizations.FirstOrDefault().OrganizationName</td>
                                                        </tr>
                                                        <tr>
                                                            <td><span class="font-weight-bold">Email: </span>@Model.Systemorganizations.FirstOrDefault().OrganizationEmail</td>
                                                        </tr>
                                                        <tr>
                                                            <td><span class="font-weight-bold">Joined: </span>@Model.Systemorganizations.FirstOrDefault().DateCreated.ToString("MMMM dd, yyyy")</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            }
                                            else
                                            {
                                                <div class="row">
                                                    <div class="col-sm-9">
                                                         <h6 class="font-weight-bold">Organization Details</h6>
                                                     </div>
                                                    <div class="col-sm-3">
                                                        <a asp-action="Addorganization" asp-controller="Account" asp-route-code="@Guid.NewGuid()" asp-route-Organizationid="0" asp-area="" class="btn-info btn-xs btn-outline-info text-white font-weight-bold text-uppercase main float-right" data-target="#Uttambsolutionsmodal" data-toggle="modal" data-backdrop="static" data-keyboard="false">Add Organization</a>
                                                    </div>
                                                </div>
                                                <table class="table table-borderless table-sm">
                                                    <tbody>
                                                        <tr>
                                                            <td><span class="font-weight-bold">Name: </span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><span class="font-weight-bold">Email: </span></td>
                                                        </tr>
                                                        <tr>
                                                            <td><span class="font-weight-bold">Joined: </span></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-5 col-md-12">
                            <div class="card card-outline card-info">
                                <div class="card-header">
                                    <h5 class="font-weight-bold">Summary</h5>
                                </div>
                                <div class="card-body">
                                    <table class="table table-borderless table-sm">
                                        <tbody>
                                            <tr>
                                                <td><span class="font-weight-bold">Total Posts: </span>@Model.TotalPosts</td>
                                            </tr>
                                            <tr>
                                                <td><span class="font-weight-bold">Total Comments: </span>@Model.TotalComments</td>
                                            </tr>
                                            <tr>
                                                <td><span class="font-weight-bold">Last Login: </span>@Model.LastLogin.ToString("MMMM dd, yyyy")</td>
                                            </tr>
                                            <tr>
                                                <td class="font-weight-bold">Status:</td>
                                                <td>@Model.Status</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-7">
                            <div class="card card-outline card-info">
                                <div class="card-header py-1">
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <h6 class="font-weight-bold text-sm card-title">My Job Posts</h6>
                                        </div>
                                        <div class="col-sm-4">
                                            <a asp-action="Addopportunity" asp-controller="Account" asp-route-code="@Guid.NewGuid()" asp-route-Opportunityid="0" asp-area="" class="btn-info btn-xs btn-outline-info text-white font-weight-bold text-uppercase main float-right" data-target="#Uttambsolutionsmodallarge" data-toggle="modal" data-backdrop="static" data-keyboard="false">Add Opportunity</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body table-responsive table-responsive-sm">
                                    <table class="table table-bordered table-striped compact table-sm table-responsive-sm nowrap text-nowrap" id="AllsystemDataTables">
                                        <thead>
                                            <tr>
                                                <th>Image</th>
                                                <th>Title</th>
                                                <th>Employer</th>
                                                <th>Function</th>
                                                <th>Industry</th>
                                                <th>Location</th>
                                                <th>Jobtype</th>
                                                <th>Experience</th>
                                                <th>Salary Range</th>
                                                <th>Status</th>
                                                <th>Deadline</th>
                                                <th>Datecreated</th>
                                                <th>Dateposted</th>
                                                <th class="text-right">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if(Model!= null && Model.Systemjobs!=null){
                                                foreach (var item in Model.Systemjobs)
                                                {
                                                    <tr>
                                                        <td><img src="@Url.Content(item.Employerlogo ?? "~/Images/uttambsolutionsjoblogo.png")" height="30" width="30"/></td>
                                                        <td>@item.Title</td>
                                                        <td>@item.Employername</td>
                                                        <td>@item.Functionname</td>
                                                        <td>@item.Jobindustryname</td>
                                                        <td>@item.Locationname</td>
                                                        <td>@item.Jobtypename</td>
                                                        <td>@item.Experiencename</td>
                                                        <td>@item.JobSalaryRange</td>
                                                        <td>@item.JobStatus</td>
                                                        <td>@item.Deadline.ToString("dd/MM/yyyy")</td>
                                                        <td>@item.DateCreated</td>
                                                        <td>@item.DatePosted</td>
                                                        <td class="text-right"><a asp-action="Addopportunity" asp-controller="Account" asp-route-code="@Guid.NewGuid()" asp-route-Opportunityid="@item.JobId" asp-area="" class="btn-info btn-xs btn-outline-info text-white font-weight-bold text-uppercase main float-right" data-target="#Uttambsolutionsmodallarge" data-toggle="modal" data-backdrop="static" data-keyboard="false">Edit</a></td>
                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <div class="card card-outline card-info">
                                <div class="card-header py-1">
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <h6 class="font-weight-bold text-sm card-title">My Job Applications</h6>
                                        </div>
                                        <div class="col-sm-4">
                                            <a asp-action="Addsocialmediapage" asp-controller="Account" asp-route-code="@Guid.NewGuid()" asp-route-Socialsettingid="0" asp-area="" class="btn-info btn-xs btn-outline-info text-white font-weight-bold text-uppercase main float-right" data-target="#Uttambsolutionsmodallarge" data-toggle="modal" data-backdrop="static" data-keyboard="false">Add Page</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body table-responsive table-responsive-sm">
                                    <table class="table table-bordered table-striped compact table-sm table-responsive-sm nowrap text-nowrap" id="AllsystemDataTables1">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>DateCreated</th>
                                                <th class="text-right">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if(Model.Systemusersocials!= null ){
                                                foreach (var item in Model.Systemusersocials)
                                                {
                                                    <tr>
                                                        <td>@item.Socialpagename</td>
                                                        <td>@item.DateCreated</td>
                                                        <td class="text-right"><a asp-action="Addsocialmediapage" asp-controller="Socialmedia" asp-route-code="@Guid.NewGuid()" asp-route-Socialsettingid="@item.SocialSettingId" asp-area="" class="btn-info btn-xs btn-outline-info text-white font-weight-bold text-uppercase main float-right" data-target="#Uttambsolutionsmodallarge" data-toggle="modal" data-backdrop="static" data-keyboard="false">Edit</a></td>
                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

     <footer class="main-footer bg-dark">
            <div class="container">
                <div class="row">
                    <div class="col-sm-6">
                        <h5 class="text-white">About JobCenter</h5>
                        <p class="text-white">
                            JobCenter is a premier job listing and freelancing platform that connects job seekers with potential employers. Our services include job listings, freelancing job biddings, and other career opportunities. We are dedicated to helping you find your next job in the digital age.
                        </p>
                    </div>
                    <div class="col-sm-3">
                        <h5 class="text-white">Contact Us</h5>
                        <p class="text-white">
                            <strong>Address:</strong> 123 Tech Street, Nairobi, Kenya<br />
                            <strong>Phone:</strong> +254 728 316050<br />
                            <strong>Email:</strong> info@jobcenter.com
                        </p>
                    </div>
                    <div class="col-sm-3">
                        <h5 class="text-white">Follow Us</h5>
                        <p class="text-white">
                            <a href="https://www.facebook.com/jobcenter" target="_blank" class="text-reset">
                                <i class="fab fa-facebook-f text-white"></i> Facebook
                            </a><br />
                            <a href="https://www.twitter.com/jobcenter" target="_blank" class="text-reset">
                                <i class="fab fa-twitter text-white"></i> Twitter
                            </a><br />
                            <a href="https://www.linkedin.com/company/jobcenter" target="_blank" class="text-reset">
                                <i class="fab fa-linkedin-in text-white"></i> LinkedIn
                            </a>
                        </p>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-sm-12 text-center text-white">
                        &copy; 2024 Uttamb Solutions. All rights reserved. | <a asp-area="" asp-controller="Home" asp-action="Privacy" class="text-white">Privacy Policy</a>
                    </div>
                </div>
            </div>
        </footer>
        <div class="modal modal- fade" id="Uttambsolutionsmodalextralarge" tabindex="-1">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                </div>
            </div>
        </div>
        <div class="modal modal- fade" id="Uttambsolutionsmodallarge" tabindex="-1">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                </div>
            </div>
        </div>
        <div class="modal fade" id="Uttambsolutionsmodal" tabindex="-1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                </div>
            </div>
        </div>
        <!-- Overlay for loading spinner -->
        <div id="loadingOverlay" class="overlay">
            <div class="spinner"></div>
        </div>

    </div>
    <script src="~/lib/plugins/jquery/jquery.min.js"></script>
    <script src="~/lib/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/plugins/select2/js/select2.full.min.js"></script>
    <script src="~/lib/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/lib/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/lib/plugins/datatables-buttons/js/datatables.buttons.min.js"></script>
    <script src="~/lib/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/lib/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="~/lib/plugins/sweetalert2/sweetalert2.min.js"></script>
    <script src="~/lib/plugins/pdfmake/pdfmake.min.js"></script>
    <script src="~/lib/plugins/pdfmake/vfs_fonts.js"></script>
    <script src="~/dist/js/adminlte.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-storage.js"></script>

    <script type="text/javascript">
            let currentSection = 1;

            function showSection(sectionNumber) {
                const sections = document.querySelectorAll('.section');
                sections.forEach((section, index) => {
                    section.style.display = 'none';
                    if (index === sectionNumber - 1) {
                        section.style.display = 'block';
                    }
                });

                // Show/hide the save button and navigation buttons
                const navigationButtons = document.getElementById('navigationButtons');
                const saveButton = document.querySelector('#section' + sectionNumber + ' .btn-info');
                if (sectionNumber === sections.length) {
                    if (saveButton) saveButton.style.display = 'block';
                    if (navigationButtons) navigationButtons.classList.add('d-none');
                } else {
                    if (saveButton) saveButton.style.display = 'none';
                    if (navigationButtons) navigationButtons.classList.remove('d-none');
                }
            }

            function validateSection(sectionNumber) {
                const section = document.querySelector('#section' + sectionNumber);
                const inputs = section.querySelectorAll('input[required], select[required], textarea[required]');
                let isValid = true;
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        input.classList.add('is-invalid');
                        isValid = false;
                    } else {
                        input.classList.remove('is-invalid');
                    }
                });
                return isValid;
            }

            function nextSection() {
                if (validateSection(currentSection)) {
                    const sections = document.querySelectorAll('.section');
                    if (currentSection < sections.length) {
                        currentSection++;
                        showSection(currentSection);
                    }
                }
            }

            function prevSection() {
                if (currentSection > 1) {
                    currentSection--;
                    showSection(currentSection);
                }
            }

            document.addEventListener('DOMContentLoaded', () => {
                showSection(currentSection);
            });

            $('#Uttambsolutionsmodalextralarge').on('show.bs.modal', function (event) {
                $(".blockoverlay").show();
                var button = $(event.relatedTarget);
                var url = button.attr("href");
                var modal = $(this);
                modal.find('.modal-content').load(url, function () {
                    // After the content is loaded, find the dropdowns and apply Select2
                    modal.find('.modal-content select.select2').each(function () {
                        $(this).select2({
                            placeholder: "--Select--",
                            allowClear: true,
                            dropdownAutoWidth: true,
                            minimumResultsForSearch: 1 // Show search box when there is 1 or more items
                            // Add any other options you need
                        }); // Initialize Select2
                    });
                    $("#AllsystemDataTables").DataTable();
                    $("#AllsystemDataTables1").DataTable();
                    $("#AllsystemDataTables2").DataTable();
                    $("#AllsystemDataTables3").DataTable();
                    $("#AllsystemDataTables4").DataTable();
                    $(".blockoverlay").hide();
                });
            });
            $('#Uttambsolutionsmodalextralarge').on('hidden.bs.modal', function () {
                $(this).removeData('bs.modal');
                $('.modal-backdrop').remove();
                $('#Uttambsolutionsmodalextralarge .modal-content').empty();
            });

            $('#Uttambsolutionsmodallarge').on('show.bs.modal', function (event) {
                $(".blockoverlay").show();
                var button = $(event.relatedTarget);
                var url = button.attr("href");
                var modal = $(this);
                modal.find('.modal-content').load(url, function () {
                    // After the content is loaded, find the dropdowns and apply Select2
                    modal.find('.modal-content select.select2').each(function () {
                        $(this).select2({
                            placeholder: "--Select--",
                            allowClear: true,
                            dropdownAutoWidth: true,
                            minimumResultsForSearch: 1 // Show search box when there is 1 or more items
                            // Add any other options you need
                        }); // Initialize Select2
                    });
                    $("#AllsystemDataTables").DataTable();
                    $("#AllsystemDataTables1").DataTable();
                    $("#AllsystemDataTables2").DataTable();
                    $("#AllsystemDataTables3").DataTable();
                    $("#AllsystemDataTables4").DataTable();
                    $(".blockoverlay").hide();
                });
            });
            $('#Uttambsolutionsmodallarge').on('hidden.bs.modal', function () {
                $(this).removeData('bs.modal');
                $('.modal-backdrop').remove();
                $('#Uttambsolutionsmodallarge .modal-content').empty();
            });

            $('#Uttambsolutionsmodal').on('show.bs.modal', function (event) {
                $(".blockoverlay").show();
                var button = $(event.relatedTarget);
                var url = button.attr("href");
                var modal = $(this);
                modal.find('.modal-content').load(url, function () {
                    // After the content is loaded, find the dropdowns and apply Select2
                    modal.find('.modal-content select.select2').each(function () {
                        $(this).select2({
                            placeholder: "--Select--",
                            allowClear: true,
                            dropdownAutoWidth: true,
                            minimumResultsForSearch: 1 // Show search box when there is 1 or more items
                            // Add any other options you need
                        }); // Initialize Select2
                    });
                    $("#AllsystemDataTables").DataTable();
                    $("#AllsystemDataTables1").DataTable();
                    $("#AllsystemDataTables2").DataTable();
                    $("#AllsystemDataTables3").DataTable();
                    $("#AllsystemDataTables4").DataTable();
                    $("#SuplierProductsTable").DataTable();
                    $("#ShopProductFeatureTable").DataTable();
                    $("#ShopProductBoxItemTable").DataTable();
                    $(".blockoverlay").hide();
                });
            });
            $('#Uttambsolutionsmodal').on('hidden.bs.modal', function () {
                $(this).removeData('bs.modal');
                $('.modal-backdrop').remove();
                $('#Uttambsolutionsmodal .modal-content').empty();
            });

            $("#AllsystemDataTables").DataTable();
            $("#AllsystemDataTables1").DataTable();
            $("#AllsystemDataTables2").DataTable();
            $("#AllsystemDataTables3").DataTable();
            $("#AllsystemDataTables4").DataTable();
            $("#AllsystemDataTables5").DataTable();
            $("#AllsystemDataTables6").DataTable();
            $("#AllsystemDataTables7").DataTable();
            $("#AllsystemDataTables8").DataTable();
            $("#AllsystemDataTables9").DataTable();
            $("#AllsystemDataTables10").DataTable();
            $("#AllsystemDataTables11").DataTable();
            $("#AllsystemDataTables12").DataTable();
            $("#AllsystemDataTables13").DataTable();
            $("#AllsystemDataTables14").DataTable();
            $("#AllsystemDataTables15").DataTable();
            $("#AllsystemDataTables16").DataTable();
            $("#ShopProductFeatureTable").DataTable();
            $("#ShopProductBoxItemTable").DataTable();

    </script>
      @*Scripts for saving the job opportunity*@
        <script type="text/javascript">
                function addFunction() {
                    var func = document.getElementById('FunctionInput').value;
                    if (func) {
                        var functionList = document.getElementById('FunctionList');
                        var listItem = document.createElement('li');
                        listItem.className = 'list-group-item d-flex justify-content-between align-items-center';
                        listItem.innerHTML = `
                            ${func}
                            <button class="btn btn-sm btn-danger" onclick="removeFunction(this)">Remove</button>
                        `;
                        functionList.appendChild(listItem);

                        // Clear input field
                        document.getElementById('FunctionInput').value = '';
                    } else {
                        alert('Please enter a function.');
                    }
                }

                function removeFunction(button) {
                    var listItem = button.parentNode;
                    listItem.parentNode.removeChild(listItem);
                }

                function addResponsibility() {
                    var responsibility = document.getElementById('ResponsibilityInput').value;
                    var functionList = document.getElementById('FunctionList');
                    var functions = Array.from(functionList.children).map(item => item.firstChild.textContent.trim());

                    if (responsibility && functions.length > 0) {
                        var table = document.getElementById('AllsystemDataTables10').getElementsByTagName('tbody')[0];
                        var newRow = table.insertRow();
                        newRow.insertCell(0).innerText = responsibility;
                        newRow.insertCell(1).innerHTML = functions.join('<br>'); // Display functions in a new line
                        newRow.insertCell(2).innerHTML = `
                            <button class="btn btn-sm btn-warning mr-1" onclick="editRow(this)">Edit</button>
                            <button class="btn btn-sm btn-danger" onclick="removeRow(this)">Remove</button>
                        `;

                        // Clear input fields and function list
                        document.getElementById('ResponsibilityInput').value = '';
                        document.getElementById('FunctionInput').value = '';
                        functionList.innerHTML = ''; // Clear all functions

                    } else {
                        alert('Please enter a responsibility and at least one function.');
                    }
                }

                var rowToUpdate = null;

                function editRow(button) {
                    var row = button.parentNode.parentNode;
                    var responsibilityCell = row.cells[0];
                    var functionsCell = row.cells[1];

                    // Set input fields to current values
                    document.getElementById('ResponsibilityInput').value = responsibilityCell.innerText;
                    var functions = functionsCell.innerHTML.split('<br>').map(func => func.trim()).filter(func => func !== '');
                    var functionList = document.getElementById('FunctionList');
                    functionList.innerHTML = '';
                    functions.forEach(func => {
                        var listItem = document.createElement('li');
                        listItem.className = 'list-group-item d-flex justify-content-between align-items-center';
                        listItem.innerHTML = `
                            ${func}
                            <button class="btn btn-sm btn-danger" onclick="removeFunction(this)">Remove</button>
                        `;
                        functionList.appendChild(listItem);
                    });

                    // Change the "Add" button to "Update"
                    var addButton = document.querySelector('#section2 .btn-primary');
                    addButton.innerText = 'Update';
                    addButton.setAttribute('onclick', 'updateRow(this)');
    
                    // Store the row to update
                    rowToUpdate = row;
                }

                function updateRow(button) {
                    var responsibility = document.getElementById('ResponsibilityInput').value;
                    var functionList = document.getElementById('FunctionList');
                    var functions = Array.from(functionList.children).map(item => item.firstChild.textContent.trim());

                    if (responsibility && functions.length > 0 && rowToUpdate) {
                        rowToUpdate.cells[0].innerText = responsibility;
                        rowToUpdate.cells[1].innerHTML = functions.join('<br>');

                        // Clear input fields and function list
                        document.getElementById('ResponsibilityInput').value = '';
                        document.getElementById('FunctionInput').value = '';
                        functionList.innerHTML = ''; // Clear all functions
                        button.innerText = 'Add Responsibility';
                        button.setAttribute('onclick', 'addResponsibility()');

                        rowToUpdate = null; // Clear the reference to the row
                    } else {
                        alert('Please enter a responsibility and at least one function.');
                    }
                }

                function removeRow(button) {
                    var row = button.parentNode.parentNode;
                    row.parentNode.removeChild(row);
                }



            ﻿function saveopportunitydata() {
                document.getElementById("saveopportunityid").disabled = true;
                document.getElementById("processingSpinner").style.display = "inline-block";
                document.getElementById("buttonText").innerText = "Processing...";
                var table = document.getElementById('AllsystemDataTables10').getElementsByTagName('tbody')[0];
                var rows = table.getElementsByTagName('tr');
                var responsibilities = [];

                    for (var i = 0; i < rows.length; i++) {
                        var responsibility = rows[i].cells[0].innerText.trim();
                        var functions = rows[i].cells[1].innerHTML.split('<br>').map(func => func.trim()).filter(func => func !== '');

                        var responsibilityModel = {
                            JobId: /* Insert JobId here */,
                            Responsibility: responsibility,
                            DateCreated: new Date().toISOString(),
                            SystemJobKeyResponsibilityFunction: functions.map(func => ({
                                ResponsibilityFunction: func,
                                DateCreated: new Date().toISOString()
                            }))
                        };

                        responsibilities.push(responsibilityModel);
                    }



                var uil1 = {
                    JobId: $('#JobId').val(),EmployerId: $('#JobEmployerId').val(),Title: $('#Titleid').val(), JobFunctionId: $('#JobFunctionId').val(),JobIndustryId: $('#JobIndustryId').val(), JobLocationId: $('#JobLocationId').val(), JobExperienceId: $('#JobExperienceId').val(),
                    JobTypeId: $('#JobTypeId').val(),EasyApply: $('#EasyApplyid').prop('checked'), HasTest: $('#JobHasTestid').prop('checked'),IsFeatured: $('#IsJobFeaturedid').prop('checked'),JobUrl: $('#JobUrlid').val(),Deadline: $('#Deadlineid').val(),JobSalaryRange: $('#JobSalaryRangeid').val(),JobDescription: $('#JobDescriptionid').val(),CreatedBy: $('#systemLoggedinedUserid').val(),SystemJobKeyResponsibility:responsibilities
                };

                 alert(JSON.stringify(uil1));
 
                $.post("/Account/Addsystemopportunitydata", uil1, function (response) {
                    if (response.RespStatus == 0) {
                        Swal.fire('Saved!', response.RespMessage, 'success')
                        $('#Uttambsolutionsmodal').hide();
                        setTimeout(function () { location.reload(); }, 1000);
                    } else if (response.RespStatus == 1) {
                        Swal.fire("Job details not saved", response.RespMessage, "warning");
                    }
                    else {
                        Swal.fire("Oops! Something Went Wrong", "Database Error has occured. Kindly Contact our support team.", "error");
                    }
                    document.getElementById("saveopportunityid").disabled = false;
                    document.getElementById("processingSpinner").style.display = "none";
                    document.getElementById("buttonText").innerText = "SAVE";
                });
            }
       </script>
      @*End of saving job opportunity *@

      @*Scripts for saving the organization details*@
      <script type="text/javascript">
        ﻿function savesystemorganizationdata() {
        document.getElementById("savesystemorganizationid").disabled = true;
        document.getElementById("processingSpinner").style.display = "inline-block";
        document.getElementById("buttonText").innerText = "Processing...";
        if ($('#OrganizationNameid').val() === '') {
            Swal.fire("Organization Not Created", 'Organization Name is Required', "warning");
            document.getElementById("savesystemorganizationid").disabled = false;
            document.getElementById("processingSpinner").style.display = "none";
            document.getElementById("buttonText").innerText = "SAVE";
            return;
        }
        if ($('#OrganizationTypeId').val() === ''|| $('#OrganizationTypeId').val() === 0) {
            Swal.fire("Organization Not Created", 'Organization Type is Required', "warning");
            document.getElementById("savesystemorganizationid").disabled = false;
            document.getElementById("processingSpinner").style.display = "none";
            document.getElementById("buttonText").innerText = "SAVE";
            return;
        }
        if ($('#OrganizationPhoneid').val() === '') {
            Swal.fire("Organization Not Created", 'Organization Phone is Required', "warning");
            document.getElementById("savesystemorganizationid").disabled = false;
            document.getElementById("processingSpinner").style.display = "none";
            document.getElementById("buttonText").innerText = "SAVE";
            return;
        }
        if ($('#OrganizationEmailid').val() === '') {
            Swal.fire("Organization Not Created", 'Organization Email is Required', "warning");
            document.getElementById("savesystemorganizationid").disabled = false;
            document.getElementById("processingSpinner").style.display = "none";
            document.getElementById("buttonText").innerText = "SAVE";
            return;
        }

         if ($('#OrganizationDescriptionid').val() === '') {
            Swal.fire("Organization Not Created", 'Organization Description is Required', "warning");
            document.getElementById("savesystemorganizationid").disabled = false;
            document.getElementById("processingSpinner").style.display = "none";
            document.getElementById("buttonText").innerText = "SAVE";
            return;
        }
    
        var uil1 = {
            OrganizationId: $('#OrganizationId').val(),OrganizationOwner: $('#systemLoggedinedUserid').val(), OrganizationName: $('#OrganizationNameid').val(), OrganizationTypeId: $('#OrganizationTypeId').val(),OrganizationPhone:$('#OrganizationPhoneid').val(),OrganizationEmail:$('#OrganizationEmailid').val(), OrganizationDescription: $('#OrganizationDescriptionid').val(),OrganizationStatus:0,DateCreated:new Date(new Date().toString().split('GMT')[0] + ' UTC').toISOString().split('.')[0].replace('T', ' ')
        };
        $.post("/Account/Addsystemorganizationdata", uil1, function (response) {
            if (response.RespStatus == 0) {
                Swal.fire('Saved!', response.RespMessage, 'success')
                $('#Uttambsolutionsmodal').hide();
                setTimeout(function () { location.reload(); }, 1000);
            } else if (response.RespStatus == 1) {
                Swal.fire("Organization details not saved", response.RespMessage, "warning");
            }
            else {
                Swal.fire("Oops! Something Went Wrong", "Database Error has occured. Kindly Contact our support team.", "error");
            }
            document.getElementById("savesystemorganizationid").disabled = false;
            document.getElementById("processingSpinner").style.display = "none";
            document.getElementById("buttonText").innerText = "SAVE";
            });
        }
      </script>
       @*End of saving Blogs *@


       <!-- Uttambsolutionsdisplayad -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2850934153859537"
     data-ad-slot="1149686671"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

</body>
</html>